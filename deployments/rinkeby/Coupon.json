{
  "address": "0xa54678327bf5f00f855ee141D6798A70F7899f2E",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "cryptorchidsAddress",
          "type": "address"
        }
      ],
      "stateMutability": "payable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "PROMOTION_END",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "addressEntriesCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "checkEligibility",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "eligibleTokens",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256",
          "name": "rebateAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "cryptorchidsERC721",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentRebate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "drawingEntriesCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "enter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pot",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "promotionOpen",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "promotionStart",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "rebatesAvailable",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "redeem",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawUnclaimed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "transactionHash": "0xcf8931f24adf30c7cce2fb32534712e01e93d1046c658b41b3a974abf85b1b49",
  "receipt": {
    "to": null,
    "from": "0x0090720FeD7Fed66eD658118b7B3BB0189D3A495",
    "contractAddress": "0xa54678327bf5f00f855ee141D6798A70F7899f2E",
    "transactionIndex": 11,
    "gasUsed": "1011567",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000000000800000000000000000000000000000002400000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000020000000000008002000000000000000000000000000000000000000000000000000",
    "blockHash": "0x4b1ae603c20e8ebdad76280831784f08bbfe99cabbea9e51d123246a5402fa9f",
    "transactionHash": "0xcf8931f24adf30c7cce2fb32534712e01e93d1046c658b41b3a974abf85b1b49",
    "logs": [
      {
        "transactionIndex": 11,
        "blockNumber": 8562291,
        "transactionHash": "0xcf8931f24adf30c7cce2fb32534712e01e93d1046c658b41b3a974abf85b1b49",
        "address": "0xa54678327bf5f00f855ee141D6798A70F7899f2E",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000000090720fed7fed66ed658118b7b3bb0189d3a495"
        ],
        "data": "0x",
        "logIndex": 12,
        "blockHash": "0x4b1ae603c20e8ebdad76280831784f08bbfe99cabbea9e51d123246a5402fa9f"
      }
    ],
    "blockNumber": 8562291,
    "cumulativeGasUsed": "1658412",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x010D59DC989f6cFdDBb0d0E5A9c9Be0c1CF9840F"
  ],
  "solcInputHash": "a7a2b6e02acb2a93abbf8f6e817ddffa",
  "metadata": "{\"compiler\":{\"version\":\"0.6.6+commit.6c089d02\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"cryptorchidsAddress\",\"type\":\"address\"}],\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"PROMOTION_END\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"addressEntriesCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"checkEligibility\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"eligibleTokens\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"rebateAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cryptorchidsERC721\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentRebate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"drawingEntriesCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"enter\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pot\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"promotionOpen\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"promotionStart\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rebatesAvailable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"redeem\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawUnclaimed\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"methods\":{\"checkEligibility()\":{\"details\":\"calls public functions on the CryptOrchids contract to build an array of eligible token IDs and a rebate amount.\",\"returns\":{\"eligibleTokens\":\"uint256[] Uncompacted array of 0s and eligible token IDs\",\"rebateAmount\":\"uint256 Eligible tokens * currentRebate\"}},\"currentRebate()\":{\"details\":\"calls CryptOrchids.currentPrice and finds difference to . Then transfers caller rebateAmount.\"},\"enter()\":{\"details\":\"Adds address to drawingEntries, increments entriesCount, and increases pot for each eligible token, while marking each token redeemed.\"},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"promotionOpen()\":{\"details\":\"@return bool Whether promotion is open for entries.\"},\"redeem()\":{\"details\":\"calls checkEligibility and sets all eligibleTokens as redeemed. Then transfers caller rebateAmount.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner.     * NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"withdrawUnclaimed()\":{\"details\":\"Transfer remaining balance to owner if after PROMOTION_END.     \"}}},\"userdoc\":{\"methods\":{\"checkEligibility()\":{\"notice\":\"Check rebate value and eligible tokens. Tokens are valid if they are planted after this contract is deployed, alive, and not yet redeemed.\"},\"currentRebate()\":{\"notice\":\"Current rebate amount for eligible token. Based on CryptOrchids current price, the ramping rebate is intended to address the regrettable FOMO ramp pricing. Starts at 0.02ETH, and increases with inverse correlation to price ramp to offer effectively straight 0.04 ETH for seeds.\"},\"enter()\":{\"notice\":\"Redeem tokens for entries in drawing.\"},\"promotionOpen()\":{\"notice\":\"Public function for whether the promotion is open. The promotion is only open if the contract balance is greater than the currentRebate. Displayed on CryptOrchids nursery for transparency.\"},\"rebatesAvailable()\":{\"notice\":\"Current count of rebates available as determined by safeBalance and currentRebate\"},\"redeem()\":{\"notice\":\"Claim ETH for valid tokens. Check for valid tokens before claming.\"},\"withdrawUnclaimed()\":{\"notice\":\"Withdraw ether from this contract once the promotion is over.\"}}}},\"settings\":{\"compilationTarget\":{\"contracts/Coupon/Coupon.sol\":\"Coupon\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\nimport \\\"../utils/Context.sol\\\";\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor () internal {\\n        address msgSender = _msgSender();\\n        _owner = msgSender;\\n        emit OwnershipTransferred(address(0), msgSender);\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby removing any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        emit OwnershipTransferred(_owner, address(0));\\n        _owner = address(0);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        emit OwnershipTransferred(_owner, newOwner);\\n        _owner = newOwner;\\n    }\\n}\\n\",\"keccak256\":\"0x15e2d5bd4c28a88548074c54d220e8086f638a71ed07e6b3ba5a70066fcf458d\"},\"@openzeppelin/contracts/math/SafeMath.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\n/**\\n * @dev Wrappers over Solidity's arithmetic operations with added overflow\\n * checks.\\n *\\n * Arithmetic operations in Solidity wrap on overflow. This can easily result\\n * in bugs, because programmers usually assume that an overflow raises an\\n * error, which is the standard behavior in high level programming languages.\\n * `SafeMath` restores this intuition by reverting the transaction when an\\n * operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n */\\nlibrary SafeMath {\\n    /**\\n     * @dev Returns the addition of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryAdd(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        uint256 c = a + b;\\n        if (c < a) return (false, 0);\\n        return (true, c);\\n    }\\n\\n    /**\\n     * @dev Returns the substraction of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function trySub(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b > a) return (false, 0);\\n        return (true, a - b);\\n    }\\n\\n    /**\\n     * @dev Returns the multiplication of two unsigned integers, with an overflow flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryMul(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\\n        // benefit is lost if 'b' is also tested.\\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\\n        if (a == 0) return (true, 0);\\n        uint256 c = a * b;\\n        if (c / a != b) return (false, 0);\\n        return (true, c);\\n    }\\n\\n    /**\\n     * @dev Returns the division of two unsigned integers, with a division by zero flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryDiv(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b == 0) return (false, 0);\\n        return (true, a / b);\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers, with a division by zero flag.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function tryMod(uint256 a, uint256 b) internal pure returns (bool, uint256) {\\n        if (b == 0) return (false, 0);\\n        return (true, a % b);\\n    }\\n\\n    /**\\n     * @dev Returns the addition of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `+` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Addition cannot overflow.\\n     */\\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\\n        uint256 c = a + b;\\n        require(c >= a, \\\"SafeMath: addition overflow\\\");\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting on\\n     * overflow (when the result is negative).\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b <= a, \\\"SafeMath: subtraction overflow\\\");\\n        return a - b;\\n    }\\n\\n    /**\\n     * @dev Returns the multiplication of two unsigned integers, reverting on\\n     * overflow.\\n     *\\n     * Counterpart to Solidity's `*` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Multiplication cannot overflow.\\n     */\\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\\n        if (a == 0) return 0;\\n        uint256 c = a * b;\\n        require(c / a == b, \\\"SafeMath: multiplication overflow\\\");\\n        return c;\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers, reverting on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b > 0, \\\"SafeMath: division by zero\\\");\\n        return a / b;\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * reverting when dividing by zero.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\\n        require(b > 0, \\\"SafeMath: modulo by zero\\\");\\n        return a % b;\\n    }\\n\\n    /**\\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\\n     * overflow (when the result is negative).\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {trySub}.\\n     *\\n     * Counterpart to Solidity's `-` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - Subtraction cannot overflow.\\n     */\\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b <= a, errorMessage);\\n        return a - b;\\n    }\\n\\n    /**\\n     * @dev Returns the integer division of two unsigned integers, reverting with custom message on\\n     * division by zero. The result is rounded towards zero.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryDiv}.\\n     *\\n     * Counterpart to Solidity's `/` operator. Note: this function uses a\\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\\n     * uses an invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b > 0, errorMessage);\\n        return a / b;\\n    }\\n\\n    /**\\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\\n     * reverting with custom message when dividing by zero.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryMod}.\\n     *\\n     * Counterpart to Solidity's `%` operator. This function uses a `revert`\\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\\n     * invalid opcode to revert (consuming all remaining gas).\\n     *\\n     * Requirements:\\n     *\\n     * - The divisor cannot be zero.\\n     */\\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\\n        require(b > 0, errorMessage);\\n        return a % b;\\n    }\\n}\\n\",\"keccak256\":\"0xcc78a17dd88fa5a2edc60c8489e2f405c0913b377216a5b26b35656b2d0dab52\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.0 <0.8.0;\\n\\n/*\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with GSN meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address payable) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes memory) {\\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\\n        return msg.data;\\n    }\\n}\\n\",\"keccak256\":\"0x8d3cb350f04ff49cfb10aef08d87f19dcbaecc8027b0bed12f3275cd12f38cf0\"},\"contracts/Coupon/Coupon.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.6.6 <0.9.0;\\n\\nimport \\\"@openzeppelin/contracts/math/SafeMath.sol\\\";\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport \\\"../Interfaces/ERC721.sol\\\";\\n\\ncontract Coupon is Ownable {\\n    using SafeMath for uint256;\\n    mapping(uint256 => bool) internal redemptions;\\n    mapping(address => uint256) public addressEntriesCount;\\n\\n    uint256 public constant PROMOTION_END = 1622520000;\\n    uint256 internal constant REBATE_AMOUNT = 20000000000000000;\\n    uint256 internal constant MINT_FLOOR = 40000000000000000;\\n\\n    uint256 public promotionStart;\\n    address public cryptorchidsERC721;\\n\\n    uint256 public drawingEntriesCount;\\n    uint256 public pot;\\n    address[] internal drawingEntries;\\n\\n    constructor(address cryptorchidsAddress) public payable {\\n        cryptorchidsERC721 = cryptorchidsAddress;\\n        promotionStart = block.timestamp;\\n    }\\n\\n    /** Public function for whether the promotion is open. The promotion is only\\n     * open if the contract balance is greater than the currentRebate. Displayed\\n     * on CryptOrchids nursery for transparency.\\n     * @dev\\n     * @return bool Whether promotion is open for entries.\\n     */\\n    function promotionOpen() public view returns (bool) {\\n        if (block.timestamp > PROMOTION_END) return false;\\n        if (pot > address(this).balance + currentRebate()) return false;\\n        if (currentRebate() > address(this).balance) return false;\\n\\n        return true;\\n    }\\n\\n    /** Check rebate value and eligible tokens. Tokens are valid if they are planted\\n     * after this contract is deployed, alive, and not yet redeemed.\\n     * @dev calls public functions on the CryptOrchids contract to build\\n     * an array of eligible token IDs and a rebate amount.\\n     * @return eligibleTokens uint256[] Uncompacted array of 0s and eligible token IDs\\n     * @return rebateAmount uint256 Eligible tokens * currentRebate\\n     */\\n    function checkEligibility()\\n        public\\n        view\\n        returns (\\n            uint256[] memory eligibleTokens,\\n            uint256 rebateAmount,\\n            uint256 count\\n        )\\n    {\\n        require(promotionOpen(), \\\"Promotion over\\\");\\n\\n        uint256 _rebateAmount = 0;\\n        uint256 tokenCount = ERC721(cryptorchidsERC721).balanceOf(msg.sender);\\n        uint256[] memory _eligibleTokens = new uint256[](tokenCount);\\n\\n        for (uint256 index = 0; index < tokenCount - 1; index++) {\\n            uint256 tokenId = ERC721(cryptorchidsERC721).tokenOfOwnerByIndex(msg.sender, index);\\n            bool flowering = ERC721(cryptorchidsERC721).flowering(tokenId);\\n            (, uint256 plantedAt, , ) = ERC721(cryptorchidsERC721).getTokenMetadata(tokenId);\\n\\n            if (redemptions[tokenId] != true && flowering && plantedAt > promotionStart) {\\n                _eligibleTokens[index] = tokenId;\\n                _rebateAmount += currentRebate();\\n                count += 1;\\n            }\\n        }\\n\\n        return (_eligibleTokens, _rebateAmount, count);\\n    }\\n\\n    /** Claim ETH for valid tokens. Check for valid tokens before claming.\\n     * @dev calls checkEligibility and sets all eligibleTokens as redeemed.\\n     * Then transfers caller rebateAmount.\\n     */\\n    function redeem() public virtual returns (uint256) {\\n        require(block.timestamp < PROMOTION_END, \\\"Promotion over\\\");\\n        (uint256[] memory redeeming, uint256 rebateAmount, ) = checkEligibility();\\n        require(safeBalance() >= rebateAmount, \\\"COC:rdm:paused\\\");\\n\\n        for (uint256 index = 0; index < redeeming.length - 1; index++) {\\n            uint256 tokenId = redeeming[index];\\n            if (tokenId > 0) redemptions[tokenId] = true;\\n        }\\n\\n        payable(msg.sender).transfer(rebateAmount);\\n\\n        return rebateAmount;\\n    }\\n\\n    /** Redeem tokens for entries in drawing.\\n     * @dev Adds address to drawingEntries, increments entriesCount, and\\n     * increases pot for each eligible token, while marking each token redeemed.\\n     */\\n    function enter() public virtual {\\n        require(block.timestamp < PROMOTION_END, \\\"Promotion over\\\");\\n        (uint256[] memory redeeming, , uint256 count) = checkEligibility();\\n        require(safeBalance() >= currentRebate().mul(count), \\\"COC:enr:paused\\\");\\n\\n        for (uint256 index = 0; index < redeeming.length - 1; index++) {\\n            uint256 tokenId = redeeming[index];\\n            if (tokenId > 0) {\\n                redemptions[tokenId] = true;\\n                drawingEntriesCount += 1;\\n                addressEntriesCount[msg.sender] += 1;\\n                drawingEntries.push(address(msg.sender));\\n                pot += currentRebate();\\n            }\\n        }\\n    }\\n\\n    /** Current rebate amount for eligible token. Based on CryptOrchids current price,\\n     * the ramping rebate is intended to address the regrettable FOMO ramp pricing.\\n     * Starts at 0.02ETH, and increases with inverse correlation to price ramp to\\n     * offer effectively straight 0.04 ETH for seeds.\\n     * @dev calls CryptOrchids.currentPrice and finds difference to .\\n     * Then transfers caller rebateAmount.\\n     */\\n    function currentRebate() public view returns (uint256) {\\n        if (drawingEntriesCount <= 100) return REBATE_AMOUNT;\\n        uint256 currentPrice = ERC721(cryptorchidsERC721).currentPrice();\\n\\n        if (currentPrice == MINT_FLOOR) return REBATE_AMOUNT;\\n\\n        return currentPrice - MINT_FLOOR;\\n    }\\n\\n    /** Current count of rebates available as determined by safeBalance and currentRebate\\n     */\\n    function rebatesAvailable() public view returns (uint256) {\\n        return safeBalance().div(currentRebate());\\n    }\\n\\n    /** Current rebate amount for eligible token. Based on CryptOrchids current price,\\n     * the ramping rebate is intended to address the regrettable FOMO ramp pricing.\\n     * Starts at 0.02ETH,\\n     * @dev calls CryptOrchids.currentPrice and finds difference to .\\n     * Then transfers caller rebateAmount.\\n     */\\n    function safeBalance() internal view returns (uint256) {\\n        return address(this).balance - pot;\\n    }\\n\\n    /** Withdraw ether from this contract once the promotion is over.\\n     * @dev Transfer remaining balance to owner if after PROMOTION_END.\\n     *\\n     */\\n    function withdrawUnclaimed() public onlyOwner {\\n        require(block.timestamp > PROMOTION_END, \\\"X\\\");\\n        uint256 balance = address(this).balance;\\n        payable(msg.sender).transfer(balance);\\n    }\\n\\n    receive() external payable {}\\n}\\n\",\"keccak256\":\"0xbaad834a55748b0a70a659c0556b69d4f79ed5fe9a45b1d83e0590636f516f7e\"},\"contracts/Interfaces/ERC721.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.6.6 <0.9.0;\\n\\ninterface ERC721 {\\n    enum Stage {Unsold, Seed, Flower, Dead}\\n\\n    struct CryptOrchid {\\n        string species;\\n        uint256 plantedAt;\\n        uint256 waterLevel;\\n    }\\n\\n    /// @dev This emits when ownership of any NFT changes by any mechanism.\\n    ///  This event emits when NFTs are created (`from` == 0) and destroyed\\n    ///  (`to` == 0). Exception: during contract creation, any number of NFTs\\n    ///  may be created and assigned without emitting Transfer. At the time of\\n    ///  any transfer, the approved address for that NFT (if any) is reset to none.\\n    event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId);\\n\\n    /// @dev This emits when the approved address for an NFT is changed or\\n    ///  reaffirmed. The zero address indicates there is no approved address.\\n    ///  When a Transfer event emits, this also indicates that the approved\\n    ///  address for that NFT (if any) is reset to none.\\n    event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);\\n\\n    /// @dev This emits when an operator is enabled or disabled for an owner.\\n    ///  The operator can manage all NFTs of the owner.\\n    event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);\\n\\n    /// @notice Count all NFTs assigned to an owner\\n    /// @dev NFTs assigned to the zero address are considered invalid, and this\\n    ///  function throws for queries about the zero address.\\n    /// @param _owner An address for whom to query the balance\\n    /// @return The number of NFTs owned by `_owner`, possibly zero\\n    function balanceOf(address _owner) external view returns (uint256);\\n\\n    /// @notice Find the owner of an NFT\\n    /// @dev NFTs assigned to zero address are considered invalid, and queries\\n    ///  about them do throw.\\n    /// @param _tokenId The identifier for an NFT\\n    /// @return The address of the owner of the NFT\\n    function ownerOf(uint256 _tokenId) external view returns (address);\\n\\n    /// @notice Transfers the ownership of an NFT from one address to another address\\n    /// @dev Throws unless `msg.sender` is the current owner, an authorized\\n    ///  operator, or the approved address for this NFT. Throws if `_from` is\\n    ///  not the current owner. Throws if `_to` is the zero address. Throws if\\n    ///  `_tokenId` is not a valid NFT. When transfer is complete, this function\\n    ///  checks if `_to` is a smart contract (code size > 0). If so, it calls\\n    ///  `onERC721Received` on `_to` and throws if the return value is not\\n    ///  `bytes4(keccak256(\\\"onERC721Received(address,address,uint256,bytes)\\\"))`.\\n    /// @param _from The current owner of the NFT\\n    /// @param _to The new owner\\n    /// @param _tokenId The NFT to transfer\\n    /// @param data Additional data with no specified format, sent in call to `_to`\\n    function safeTransferFrom(\\n        address _from,\\n        address _to,\\n        uint256 _tokenId,\\n        bytes calldata data\\n    ) external payable;\\n\\n    /// @notice Transfers the ownership of an NFT from one address to another address\\n    /// @dev This works identically to the other function with an extra data parameter,\\n    ///  except this function just sets data to \\\"\\\".\\n    /// @param _from The current owner of the NFT\\n    /// @param _to The new owner\\n    /// @param _tokenId The NFT to transfer\\n    function safeTransferFrom(\\n        address _from,\\n        address _to,\\n        uint256 _tokenId\\n    ) external payable;\\n\\n    /// @notice Transfer ownership of an NFT -- THE CALLER IS RESPONSIBLE\\n    ///  TO CONFIRM THAT `_to` IS CAPABLE OF RECEIVING NFTS OR ELSE\\n    ///  THEY MAY BE PERMANENTLY LOST\\n    /// @dev Throws unless `msg.sender` is the current owner, an authorized\\n    ///  operator, or the approved address for this NFT. Throws if `_from` is\\n    ///  not the current owner. Throws if `_to` is the zero address. Throws if\\n    ///  `_tokenId` is not a valid NFT.\\n    /// @param _from The current owner of the NFT\\n    /// @param _to The new owner\\n    /// @param _tokenId The NFT to transfer\\n    function transferFrom(\\n        address _from,\\n        address _to,\\n        uint256 _tokenId\\n    ) external payable;\\n\\n    /// @notice Change or reaffirm the approved address for an NFT\\n    /// @dev The zero address indicates there is no approved address.\\n    ///  Throws unless `msg.sender` is the current NFT owner, or an authorized\\n    ///  operator of the current owner.\\n    /// @param _approved The new approved NFT controller\\n    /// @param _tokenId The NFT to approve\\n    function approve(address _approved, uint256 _tokenId) external payable;\\n\\n    /// @notice Enable or disable approval for a third party (\\\"operator\\\") to manage\\n    ///  all of `msg.sender`'s assets\\n    /// @dev Emits the ApprovalForAll event. The contract MUST allow\\n    ///  multiple operators per owner.\\n    /// @param _operator Address to add to the set of authorized operators\\n    /// @param _approved True if the operator is approved, false to revoke approval\\n    function setApprovalForAll(address _operator, bool _approved) external;\\n\\n    /// @notice Get the approved address for a single NFT\\n    /// @dev Throws if `_tokenId` is not a valid NFT.\\n    /// @param _tokenId The NFT to find the approved address for\\n    /// @return The approved address for this NFT, or the zero address if there is none\\n    function getApproved(uint256 _tokenId) external view returns (address);\\n\\n    /// @notice Query if an address is an authorized operator for another address\\n    /// @param _owner The address that owns the NFTs\\n    /// @param _operator The address that acts on behalf of the owner\\n    /// @return True if `_operator` is an approved operator for `_owner`, false otherwise\\n    function isApprovedForAll(address _owner, address _operator) external view returns (bool);\\n\\n    /**\\n     * @dev Returns the total amount of tokens stored by the contract.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns a token ID owned by `owner` at a given `index` of its token list.\\n     * Use along with {balanceOf} to enumerate all of ``owner``'s tokens.\\n     */\\n    function tokenOfOwnerByIndex(address owner, uint256 index) external view returns (uint256 tokenId);\\n\\n    /**\\n     * @dev Returns a token ID at a given `index` of all the tokens stored by the contract.\\n     * Use along with {totalSupply} to enumerate all tokens.\\n     */\\n    function tokenByIndex(uint256 index) external view returns (uint256);\\n\\n    function flowering(uint256 tokenId) external view returns (bool);\\n\\n    function currentPrice() external view returns (uint256 price);\\n\\n    function getTokenMetadata(uint256 tokenId)\\n        external\\n        view\\n        returns (\\n            string memory,\\n            uint256,\\n            uint256,\\n            Stage\\n        );\\n}\\n\",\"keccak256\":\"0x401d250b0c98f4cc3dfdef4d1c3b1f56b5e68143dee5e837d861101b0eb0d332\"}},\"version\":1}",
  "bytecode": "0x60806040526040516110d93803806110d98339818101604052602081101561002657600080fd5b5051600061003b6001600160e01b036100ae16565b600080546001600160a01b0319166001600160a01b0383169081178255604051929350917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350600480546001600160a01b0319166001600160a01b0392909216919091179055426003556100b2565b3390565b611018806100c16000396000f3fe6080604052600436106100f75760003560e01c8063aec190211161008a578063e97dcb6211610059578063e97dcb62146102a5578063f1b395f1146102ba578063f2fde38b146102ed578063f85f3b8814610320576100fe565b8063aec1902114610251578063b8fa4f0214610266578063be040fb01461027b578063dc7aafba14610290576100fe565b80634ba2363a116100c65780634ba2363a146101e1578063715018a6146101f657806377f49a8c1461020b5780638da5cb5b14610220576100fe565b8063049e45d7146101035780632d997fce1461017a57806333fc56d9146101a15780633ca0e52c146101b8576100fe565b366100fe57005b600080fd5b34801561010f57600080fd5b50610118610335565b6040518080602001848152602001838152602001828103825285818151815260200191508051906020019060200280838360005b8381101561016457818101518382015260200161014c565b5050505090500194505050505060405180910390f35b34801561018657600080fd5b5061018f610776565b60408051918252519081900360200190f35b3480156101ad57600080fd5b506101b661079d565b005b3480156101c457600080fd5b506101cd61089c565b604080519115158252519081900360200190f35b3480156101ed57600080fd5b5061018f6108ea565b34801561020257600080fd5b506101b66108f0565b34801561021757600080fd5b5061018f6109bb565b34801561022c57600080fd5b506102356109c3565b604080516001600160a01b039092168252519081900360200190f35b34801561025d57600080fd5b506102356109d2565b34801561027257600080fd5b5061018f6109e1565b34801561028757600080fd5b5061018f6109e7565b34801561029c57600080fd5b5061018f610b2a565b3480156102b157600080fd5b506101b6610bf0565b3480156102c657600080fd5b5061018f600480360360208110156102dd57600080fd5b50356001600160a01b0316610d8d565b3480156102f957600080fd5b506101b66004803603602081101561031057600080fd5b50356001600160a01b0316610d9f565b34801561032c57600080fd5b5061018f610ec0565b606060008061034261089c565b610384576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60048054604080517f70a0823100000000000000000000000000000000000000000000000000000000815233938101939093525160009283926001600160a01b0316916370a0823191602480820192602092909190829003018186803b1580156103ed57600080fd5b505afa158015610401573d6000803e3d6000fd5b505050506040513d602081101561041757600080fd5b5051905060608167ffffffffffffffff8111801561043457600080fd5b5060405190808252806020026020018201604052801561045e578160200160208202803683370190505b50905060005b6001830381101561076a5760048054604080517f2f745c59000000000000000000000000000000000000000000000000000000008152339381019390935260248301849052516000926001600160a01b0390921691632f745c59916044808301926020929190829003018186803b1580156104de57600080fd5b505afa1580156104f2573d6000803e3d6000fd5b505050506040513d602081101561050857600080fd5b505160048054604080517f182199cd000000000000000000000000000000000000000000000000000000008152928301849052519293506000926001600160a01b039091169163182199cd916024808301926020929190829003018186803b15801561057357600080fd5b505afa158015610587573d6000803e3d6000fd5b505050506040513d602081101561059d57600080fd5b505160048054604080517f60316801000000000000000000000000000000000000000000000000000000008152928301869052519293506000926001600160a01b039091169163603168019160248083019286929190829003018186803b15801561060757600080fd5b505afa15801561061b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052608081101561064457600080fd5b810190808051604051939291908464010000000082111561066457600080fd5b90830190602082018581111561067957600080fd5b825164010000000081118282018810171561069357600080fd5b82525081516020918201929091019080838360005b838110156106c05781810151838201526020016106a8565b50505050905090810190601f1680156106ed5780820380516001836020036101000a031916815260200191505b5060409081526020918201516000898152600193849052919091205490955060ff1615151480159350915061072190505750815b801561072e575060035481115b1561075f578285858151811061074057fe5b602002602001018181525050610754610b2a565b870196506001880197505b505050600101610464565b50945090925050909192565b6000610797610783610b2a565b61078b610ec6565b9063ffffffff610ece16565b90505b90565b6107a5610f37565b6001600160a01b03166107b66109c3565b6001600160a01b031614610811576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6360b5b0c04211610869576040805162461bcd60e51b815260206004820152600160248201527f5800000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6040514790339082156108fc029083906000818181858888f19350505050158015610898573d6000803e3d6000fd5b5050565b60006360b5b0c04211156108b25750600061079a565b6108ba610b2a565b470160065411156108cd5750600061079a565b476108d6610b2a565b11156108e45750600061079a565b50600190565b60065481565b6108f8610f37565b6001600160a01b03166109096109c3565b6001600160a01b031614610964576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b6360b5b0c081565b6000546001600160a01b031690565b6004546001600160a01b031681565b60055481565b60006360b5b0c04210610a32576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60606000610a3e610335565b509150915080610a4c610ec6565b1015610a9f576040805162461bcd60e51b815260206004820152600e60248201527f434f433a72646d3a706175736564000000000000000000000000000000000000604482015290519081900360640190fd5b60005b6001835103811015610af5576000838281518110610abc57fe5b602002602001015190506000811115610aec576000818152600160208190526040909120805460ff191690911790555b50600101610aa2565b50604051339082156108fc029083906000818181858888f19350505050158015610b23573d6000803e3d6000fd5b5091505090565b6000606460055411610b44575066470de4df82000061079a565b6000600460009054906101000a90046001600160a01b03166001600160a01b0316639d1b464a6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b9457600080fd5b505afa158015610ba8573d6000803e3d6000fd5b505050506040513d6020811015610bbe57600080fd5b50519050668e1bc9bf040000811415610be15766470de4df82000091505061079a565b668e1bc9bf03ffff1901905090565b6360b5b0c04210610c39576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60606000610c45610335565b9250509150610c6281610c56610b2a565b9063ffffffff610f3b16565b610c6a610ec6565b1015610cbd576040805162461bcd60e51b815260206004820152600e60248201527f434f433a656e723a706175736564000000000000000000000000000000000000604482015290519081900360640190fd5b60005b6001835103811015610d88576000838281518110610cda57fe5b602002602001015190506000811115610d7f576000818152600160208181526040808420805460ff191684179055600580548401905533808552600290925283208054830190556007805492830181559092527fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68801805473ffffffffffffffffffffffffffffffffffffffff19169091179055610d75610b2a565b6006805490910190555b50600101610cc0565b505050565b60026020526000908152604090205481565b610da7610f37565b6001600160a01b0316610db86109c3565b6001600160a01b031614610e13576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6001600160a01b038116610e585760405162461bcd60e51b8152600401808060200182810382526026815260200180610f9c6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0392909216919091179055565b60035481565b600654470390565b6000808211610f24576040805162461bcd60e51b815260206004820152601a60248201527f536166654d6174683a206469766973696f6e206279207a65726f000000000000604482015290519081900360640190fd5b818381610f2d57fe5b0490505b92915050565b3390565b600082610f4a57506000610f31565b82820282848281610f5757fe5b0414610f945760405162461bcd60e51b8152600401808060200182810382526021815260200180610fc26021913960400191505060405180910390fd5b939250505056fe4f776e61626c653a206e6577206f776e657220697320746865207a65726f2061646472657373536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f77a2646970667358221220d3b67f42a10341f921749f4565775d624b1401356cfbc6b6906f91f04ec21c0664736f6c63430006060033",
  "deployedBytecode": "0x6080604052600436106100f75760003560e01c8063aec190211161008a578063e97dcb6211610059578063e97dcb62146102a5578063f1b395f1146102ba578063f2fde38b146102ed578063f85f3b8814610320576100fe565b8063aec1902114610251578063b8fa4f0214610266578063be040fb01461027b578063dc7aafba14610290576100fe565b80634ba2363a116100c65780634ba2363a146101e1578063715018a6146101f657806377f49a8c1461020b5780638da5cb5b14610220576100fe565b8063049e45d7146101035780632d997fce1461017a57806333fc56d9146101a15780633ca0e52c146101b8576100fe565b366100fe57005b600080fd5b34801561010f57600080fd5b50610118610335565b6040518080602001848152602001838152602001828103825285818151815260200191508051906020019060200280838360005b8381101561016457818101518382015260200161014c565b5050505090500194505050505060405180910390f35b34801561018657600080fd5b5061018f610776565b60408051918252519081900360200190f35b3480156101ad57600080fd5b506101b661079d565b005b3480156101c457600080fd5b506101cd61089c565b604080519115158252519081900360200190f35b3480156101ed57600080fd5b5061018f6108ea565b34801561020257600080fd5b506101b66108f0565b34801561021757600080fd5b5061018f6109bb565b34801561022c57600080fd5b506102356109c3565b604080516001600160a01b039092168252519081900360200190f35b34801561025d57600080fd5b506102356109d2565b34801561027257600080fd5b5061018f6109e1565b34801561028757600080fd5b5061018f6109e7565b34801561029c57600080fd5b5061018f610b2a565b3480156102b157600080fd5b506101b6610bf0565b3480156102c657600080fd5b5061018f600480360360208110156102dd57600080fd5b50356001600160a01b0316610d8d565b3480156102f957600080fd5b506101b66004803603602081101561031057600080fd5b50356001600160a01b0316610d9f565b34801561032c57600080fd5b5061018f610ec0565b606060008061034261089c565b610384576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60048054604080517f70a0823100000000000000000000000000000000000000000000000000000000815233938101939093525160009283926001600160a01b0316916370a0823191602480820192602092909190829003018186803b1580156103ed57600080fd5b505afa158015610401573d6000803e3d6000fd5b505050506040513d602081101561041757600080fd5b5051905060608167ffffffffffffffff8111801561043457600080fd5b5060405190808252806020026020018201604052801561045e578160200160208202803683370190505b50905060005b6001830381101561076a5760048054604080517f2f745c59000000000000000000000000000000000000000000000000000000008152339381019390935260248301849052516000926001600160a01b0390921691632f745c59916044808301926020929190829003018186803b1580156104de57600080fd5b505afa1580156104f2573d6000803e3d6000fd5b505050506040513d602081101561050857600080fd5b505160048054604080517f182199cd000000000000000000000000000000000000000000000000000000008152928301849052519293506000926001600160a01b039091169163182199cd916024808301926020929190829003018186803b15801561057357600080fd5b505afa158015610587573d6000803e3d6000fd5b505050506040513d602081101561059d57600080fd5b505160048054604080517f60316801000000000000000000000000000000000000000000000000000000008152928301869052519293506000926001600160a01b039091169163603168019160248083019286929190829003018186803b15801561060757600080fd5b505afa15801561061b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052608081101561064457600080fd5b810190808051604051939291908464010000000082111561066457600080fd5b90830190602082018581111561067957600080fd5b825164010000000081118282018810171561069357600080fd5b82525081516020918201929091019080838360005b838110156106c05781810151838201526020016106a8565b50505050905090810190601f1680156106ed5780820380516001836020036101000a031916815260200191505b5060409081526020918201516000898152600193849052919091205490955060ff1615151480159350915061072190505750815b801561072e575060035481115b1561075f578285858151811061074057fe5b602002602001018181525050610754610b2a565b870196506001880197505b505050600101610464565b50945090925050909192565b6000610797610783610b2a565b61078b610ec6565b9063ffffffff610ece16565b90505b90565b6107a5610f37565b6001600160a01b03166107b66109c3565b6001600160a01b031614610811576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6360b5b0c04211610869576040805162461bcd60e51b815260206004820152600160248201527f5800000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6040514790339082156108fc029083906000818181858888f19350505050158015610898573d6000803e3d6000fd5b5050565b60006360b5b0c04211156108b25750600061079a565b6108ba610b2a565b470160065411156108cd5750600061079a565b476108d6610b2a565b11156108e45750600061079a565b50600190565b60065481565b6108f8610f37565b6001600160a01b03166109096109c3565b6001600160a01b031614610964576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b6360b5b0c081565b6000546001600160a01b031690565b6004546001600160a01b031681565b60055481565b60006360b5b0c04210610a32576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60606000610a3e610335565b509150915080610a4c610ec6565b1015610a9f576040805162461bcd60e51b815260206004820152600e60248201527f434f433a72646d3a706175736564000000000000000000000000000000000000604482015290519081900360640190fd5b60005b6001835103811015610af5576000838281518110610abc57fe5b602002602001015190506000811115610aec576000818152600160208190526040909120805460ff191690911790555b50600101610aa2565b50604051339082156108fc029083906000818181858888f19350505050158015610b23573d6000803e3d6000fd5b5091505090565b6000606460055411610b44575066470de4df82000061079a565b6000600460009054906101000a90046001600160a01b03166001600160a01b0316639d1b464a6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b9457600080fd5b505afa158015610ba8573d6000803e3d6000fd5b505050506040513d6020811015610bbe57600080fd5b50519050668e1bc9bf040000811415610be15766470de4df82000091505061079a565b668e1bc9bf03ffff1901905090565b6360b5b0c04210610c39576040805162461bcd60e51b815260206004820152600e60248201526d283937b6b7ba34b7b71037bb32b960911b604482015290519081900360640190fd5b60606000610c45610335565b9250509150610c6281610c56610b2a565b9063ffffffff610f3b16565b610c6a610ec6565b1015610cbd576040805162461bcd60e51b815260206004820152600e60248201527f434f433a656e723a706175736564000000000000000000000000000000000000604482015290519081900360640190fd5b60005b6001835103811015610d88576000838281518110610cda57fe5b602002602001015190506000811115610d7f576000818152600160208181526040808420805460ff191684179055600580548401905533808552600290925283208054830190556007805492830181559092527fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c68801805473ffffffffffffffffffffffffffffffffffffffff19169091179055610d75610b2a565b6006805490910190555b50600101610cc0565b505050565b60026020526000908152604090205481565b610da7610f37565b6001600160a01b0316610db86109c3565b6001600160a01b031614610e13576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6001600160a01b038116610e585760405162461bcd60e51b8152600401808060200182810382526026815260200180610f9c6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0392909216919091179055565b60035481565b600654470390565b6000808211610f24576040805162461bcd60e51b815260206004820152601a60248201527f536166654d6174683a206469766973696f6e206279207a65726f000000000000604482015290519081900360640190fd5b818381610f2d57fe5b0490505b92915050565b3390565b600082610f4a57506000610f31565b82820282848281610f5757fe5b0414610f945760405162461bcd60e51b8152600401808060200182810382526021815260200180610fc26021913960400191505060405180910390fd5b939250505056fe4f776e61626c653a206e6577206f776e657220697320746865207a65726f2061646472657373536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f77a2646970667358221220d3b67f42a10341f921749f4565775d624b1401356cfbc6b6906f91f04ec21c0664736f6c63430006060033",
  "devdoc": {
    "methods": {
      "checkEligibility()": {
        "details": "calls public functions on the CryptOrchids contract to build an array of eligible token IDs and a rebate amount.",
        "returns": {
          "eligibleTokens": "uint256[] Uncompacted array of 0s and eligible token IDs",
          "rebateAmount": "uint256 Eligible tokens * currentRebate"
        }
      },
      "currentRebate()": {
        "details": "calls CryptOrchids.currentPrice and finds difference to . Then transfers caller rebateAmount."
      },
      "enter()": {
        "details": "Adds address to drawingEntries, increments entriesCount, and increases pot for each eligible token, while marking each token redeemed."
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "promotionOpen()": {
        "details": "@return bool Whether promotion is open for entries."
      },
      "redeem()": {
        "details": "calls checkEligibility and sets all eligibleTokens as redeemed. Then transfers caller rebateAmount."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner.     * NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "withdrawUnclaimed()": {
        "details": "Transfer remaining balance to owner if after PROMOTION_END.     "
      }
    }
  },
  "userdoc": {
    "methods": {
      "checkEligibility()": {
        "notice": "Check rebate value and eligible tokens. Tokens are valid if they are planted after this contract is deployed, alive, and not yet redeemed."
      },
      "currentRebate()": {
        "notice": "Current rebate amount for eligible token. Based on CryptOrchids current price, the ramping rebate is intended to address the regrettable FOMO ramp pricing. Starts at 0.02ETH, and increases with inverse correlation to price ramp to offer effectively straight 0.04 ETH for seeds."
      },
      "enter()": {
        "notice": "Redeem tokens for entries in drawing."
      },
      "promotionOpen()": {
        "notice": "Public function for whether the promotion is open. The promotion is only open if the contract balance is greater than the currentRebate. Displayed on CryptOrchids nursery for transparency."
      },
      "rebatesAvailable()": {
        "notice": "Current count of rebates available as determined by safeBalance and currentRebate"
      },
      "redeem()": {
        "notice": "Claim ETH for valid tokens. Check for valid tokens before claming."
      },
      "withdrawUnclaimed()": {
        "notice": "Withdraw ether from this contract once the promotion is over."
      }
    }
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 814,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 4890,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "redemptions",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_bool)"
      },
      {
        "astId": 4894,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "addressEntriesCount",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 4905,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "promotionStart",
        "offset": 0,
        "slot": "3",
        "type": "t_uint256"
      },
      {
        "astId": 4907,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "cryptorchidsERC721",
        "offset": 0,
        "slot": "4",
        "type": "t_address"
      },
      {
        "astId": 4909,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "drawingEntriesCount",
        "offset": 0,
        "slot": "5",
        "type": "t_uint256"
      },
      {
        "astId": 4911,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "pot",
        "offset": 0,
        "slot": "6",
        "type": "t_uint256"
      },
      {
        "astId": 4914,
        "contract": "contracts/Coupon/Coupon.sol:Coupon",
        "label": "drawingEntries",
        "offset": 0,
        "slot": "7",
        "type": "t_array(t_address)dyn_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_address)dyn_storage": {
        "base": "t_address",
        "encoding": "dynamic_array",
        "label": "address[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}